{"version":3,"sources":["webpack:///E:/HBuilderX/projects/yueqian_demo/main.js","webpack:///E:/HBuilderX/projects/yueqian_demo/pages/index/index.vue?ffd8","webpack:///E:/HBuilderX/projects/yueqian_demo/pages/index/index.vue?b6bd","webpack:///E:/HBuilderX/projects/yueqian_demo/pages/index/index.vue?927d","webpack:///E:/HBuilderX/projects/yueqian_demo/pages/index/index.vue?2c7c","webpack:///E:/HBuilderX/projects/yueqian_demo/pages/index/index.vue","webpack:///E:/HBuilderX/projects/yueqian_demo/pages/index/index.vue?c00e","webpack:///E:/HBuilderX/projects/yueqian_demo/pages/index/index.vue?b184"],"names":["createPage","Page","components","topMoney","centerRecord","data","title","currentPage","recordDataByMonth","recordList","choiceCurrentDate","Date","onReady","_get_index_record_list","onShow","_getRecordByCurrentMonth","_getTotalDayMoney","uni","$on","date","methods","newDate","split","splice","new2","join","wx","cloud","callFunction","name","then","res","console","log","result","totalDayMoney","addMoney","filter","item","isAdd","reduce","prv","sumMoney","toFixed","payMoney","totalM","$emit","showLoading","record","length","showToast","push","hideLoading","onReachBottom","e","setTimeout"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=48b3c774&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=48b3c774&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48b3c774\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"projects/yueqian_demo/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=48b3c774&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport topMoney from '../../components/content/index/topMoney.vue';\nimport centerRecord from '../../components/content/index/center-record.vue';\nimport {\n\tdateFormat\n} from '../../common/util.js';\nexport default {\n\tcomponents: {\n\t\ttopMoney,\n\t\tcenterRecord\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\ttitle: 'Hello',\n\t\t\tcurrentPage:0,//当前页数\n\t\t\trecordDataByMonth:[],//当前月记录\n\t\t\trecordList: [\n\n\n\t\t\t],\n\t\t\tchoiceCurrentDate: dateFormat(\"YYYY-mm-dd\", new Date()),\n\n\t\t}\n\t},\n\tonReady() {\n\t\t// 获取日记录\n\t\tthis._get_index_record_list()\n\t},\n\tonShow() {\n\t\t\n\t\t// 获取月记录\n\t\tthis._getRecordByCurrentMonth() \n\t\t// 获取日记录 同时求和\n\t\tthis._getTotalDayMoney()\n\t\t//日期不变化 展示时也请求一下\n\t\t// this._get_index_record_list()\n\t\t// this._getRecordByCurrentMonth()\n\n\t\t// 监听日期是否更改\n\t\tuni.$on('indexDateChange', (date) => {\n\t\t\t// 获取更改的日期当天的记录\n\t\t\tthis.choiceCurrentDate = date;\n\t\t\tthis.currentPage = 0;\n\t\t\tthis._get_index_record_list()\n\t\t\tthis._getRecordByCurrentMonth()\n\t\t\tthis._getTotalDayMoney()\n\t\t})\n\t},\n\tmethods: {\n\n\t\t// 获取月记录\n\t\t_getRecordByCurrentMonth() {\n\t\t\t// 获取当前年份加月份\n\t\t\t// let date = dateFormat(\"YYYY-mm\", new Date());\n\t\t\t// console.log('我是date',date)\n\t\t\t\n\t\t\t// 日期分割\n\t\t\tlet newDate = this.choiceCurrentDate.split(\"-\")\n\t\t\tnewDate.splice(2,1)\n\t\t\tlet new2 = newDate.join(\"-\")\n\t\t\t// 调用云函数\n\t\t\twx.cloud.callFunction({\n\t\t\t\tname: 'get_RecordByCurrentMonth',\n\t\t\t\tdata: {\n\t\t\t\t\tdate: new2\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log('月份数据',res.result.data)\n\t\t\t\tthis.recordDataByMonth = res.result.data;\n\t\t\t})\n\n\t\t},\n\t// 获取日记录 不限条数 一次性获取 同时计算出总和\n\t_getTotalDayMoney(){\n\t\tthis.currentPage = 0;\n\t\tlet date = this.choiceCurrentDate;\n\t\twx.cloud.callFunction({\n\t\t\tname: 'get_totalDayMoney', \n\t\t\tdata: {\n\t\t\t\tchoiceCurrentDate: date,\n\t\t\t}\n\t\t}).then(res => {\n\t\t\tlet totalDayMoney = res.result.data;\n\t\t\t// 总收入钱数\n\t\t\tlet addMoney = totalDayMoney.filter(item => item.isAdd)\n\t\t\t\t.reduce((prv, item) => prv + item.sumMoney, 0).toFixed(2)\n\t\t\t\n\t\t\t// 总支出钱数\n\t\t\tlet payMoney = totalDayMoney.filter(item => !item.isAdd)\n\t\t\t\t.reduce((prv, item) => prv + item.sumMoney, 0).toFixed(2)\n\t\t\t\n\t\t\t\n\t\t\t// 总和\n\t\t\tlet totalM = addMoney - payMoney;\n\t\t\t\n\t\t\t// 发送事件给顶部导航\n\t\t\tuni.$emit('centerRecordTotalM', addMoney,payMoney)\n\t\t})\n\t},\n\n\t// 获取日记录 限制六条一次\n\t\t_get_index_record_list() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '加载中'\n\t\t\t})\n\t\t\tlet date = this.choiceCurrentDate\n\t\t\twx.cloud.callFunction({\n\t\t\t\tname: 'get_allrecord',\n\t\t\t\tdata: {\n\t\t\t\t\tchoiceCurrentDate: date,\n\t\t\t\t\tcurrentPage:this.currentPage \n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\t\n\t\t\t\t// this.recordList = res.result.data;\n\t\t\t\tlet record = res.result.data;\n\t\t\t\tif(record.length === 0){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:'没有更多记录'\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tif(this.currentPage === 0){\n\t\t\t\t\t\tthis.recordList = []\n\t\t\t\t\t\t// 重置  当天一条记录都没有\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t// 若页数不为0 证明为同一天 若为0 则为新的一天 直接赋值\n\t\t\t\t\tif(this.currentPage !== 0){\n\t\t\t\t\t\tthis.recordList.push(...record);\n\t\t\t\t\t\tconsole.log(this.recordList)\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.recordList =record;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\tuni.hideLoading()\n\t\t\t})\n\t\t}\n\t},\n\n\tonReachBottom(e) {\n\t\t\n\t\tuni.showLoading({\n\t\t\ttitle:\"加载中\"\n\t\t})\n\n\t\tsetTimeout(() => {\n\t\t\tthis.currentPage = this.currentPage + 1;\n\t\t\tthis._get_index_record_list()\n\t\t\tuni.hideLoading()\n\t\t},1000)\n\t}\n\n\n}\n","import mod from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=48b3c774&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=48b3c774&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1590570966797\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}